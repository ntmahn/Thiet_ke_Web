<!DOCTYPE html>
<html lang="en">
<head>
    <title>Rhode.vn</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rhode</title>
    <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
    <!--font awesome cdn link-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <!-- custom css file link -->
    <link rel="stylesheet" href="asset/style.css">
</head>
<body>
   
    <header>
        <a href="index.html" class="logo"><i class="fas-fa-untensils"></i>rhode</a>
        <nav class="navbar">
            <a href="index.html#home">Trang chủ</a>
            <a href="gioithieu.html">Giới thiệu</a>
            <a href="index.html#sanpham">Sản phẩm</a>
            <div class="dropdown">
                <a href="#">Combo</a>
                <div class="dropdown-content">
                    <a href="set.html">Set</a>
                    <a href="combo1.html">Combo</a>
                </div>
            </div>
            <a href="lienhe.html">Liên hệ</a>
            <a href="index.html#review">Phản hồi</a>
            <a href="qa.html">Q&A</a>
            <div id="myModal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Giỏ Hàng</h5>
                        <span class="close">&times;</span>
                    </div>
                    <!-- modal -->
                    <div class="modal-body">
                        <div class="cart-row">
                            <span class="cart-item cart-header cart-column">Sản Phẩm</span>
                            <span class="cart-price cart-header cart-column">Giá</span>
                            <span class="cart-quantity cart-header cart-column">Số Lượng</span>
                        </div>
                        <div class="cart-items">
                            <div class="cart-total">
                                <strong class="cart-total-title">Tổng Cộng:</strong>
                                <span class="cart-total-price">0 $</span>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary close-footer">Đóng</button>
                        <button type="button" class="btn btn-primary order">Thanh Toán</button>
                    </div>
                </div>
            </div>
        </nav>
        <div class="icons">
            <i class="fas fa-bars" id="menu-bars"></i>
            <i class="fas fa-search" id="search-icon"></i>
            <i id="cart" class="fas fa-shopping-cart"></i>
            <a href="dangnhap.html" class="fas fa-user-plus"></a>
        </div>
    </header>

<form action="" id="search-form">
    <input type="search" placeholder="Tìm kiếm ở đây..." name="" id="search-box">
    <label for="search-box" class="fas fa-search"></label>
    <i class="fas fa-times" id="close"></i>
</form>

<!-- Combo section -->
<section class="combo1" id="combo1">
    <h3 class="sub-heading">COMBO NỔI BẬT</h3>
    <div class="combo1-container">
        <!-- Combo Item 1 -->
        <div class="combo1-item">
            <div class="combo-carousel">
                <img id="MainImg" src="images/treatment combo/combo treatment.jpg" alt="Combo Treatment 1">
                <img src="images/treatment combo/combo treatment 2.jpg" alt="Combo Treatment 2">
            </div>
            <div class="combo1-info">
                <h3>Combo Treatment <br><span class="price">200.00 $</span></h3>
                <h4>CHĂM SÓC MÔI XINH<br></h4>
                <p>Combo Treatment là giải pháp lý tưởng cho những ai muốn chăm sóc môi mềm mịn. Combo Treatment với bộ 4 son gồm nhiều vị khác nhau. Packaging đơn giản, hiện đại, đẹp mắt<br>
                Với sự kết hợp của nhiều sản phẩm chất lượng cao, bạn sẽ nhanh chóng thấy được sự cải thiện rõ rệt trên làn môi của mình của mình.</p>
                <button type="button" class="btn btn-cart">Thêm vào giỏ hàng</button>
            </div>
        </div>
    </div>
</section>

<!-- footer Manh -->
<section class="footer">
    <div class="box-container">
        <div class="box">
            <h3>Các cơ sở</h3>
            <a href="#">Đống Đa, Hà Nội</a>
            <a href="#">Cầu Giấy, Hà Nội</a>
            <a href="#">Phủ Lý, Hà Nam</a>
            <a href="#">TP. Vinh, Nghệ An</a>
            <a href="#">Quận 1, Hồ Chí Minh</a>
        </div>
        <div class="box">
            <h3>Các mục</h3>
            <a href="index.html">Trang chủ</a>
            <a href="gioithieu.html">Giới thiệu</a>
            <a href="combo.html">Combo</a>
            <a href="lienhe.html">Liên hệ</a>
            <a href="qa.html">Q & A</a>
        </div>
        <div class="box">
            <h3>Thông tin liên lạc</h3>
            <a href="#">+124-456-7890</a>
            <a href="#">+111-222-3333</a>
            <a href="#">rhode@gmail.com</a>
        </div>
        <div class="box">
            <h3>Theo dõi chúng tôi</h3>
            <a href="https://www.facebook.com/ntmahn/"><i class="fab fa-facebook-f"></i> Facebook</a>
            <a href="https://x.com/SenselessWillow"><i class="fab fa-twitter"></i> Twitter</a>
            <a href="https://www.instagram.com/rhode/"><i class="fab fa-instagram"></i> Instagram</a>
            <a href="https://www.linkedin.com/in/ntmahn/"><i class="fab fa-linkedin-in"></i> LinkedIn</a>
        </div>
    </div>
    <div class="credit"> copyright @ 2024 by <span>nhóm 3 thiếu nữ và 1 chàng trai</span></div>
</section>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<!-- custom js file link -->
<script>
// Modal
var modal = document.getElementById("myModal");
var btn = document.getElementById("cart");
var close = document.getElementsByClassName("close")[0];
var close_footer = document.getElementsByClassName("close-footer")[0];
var order = document.getElementsByClassName("order")[0];
btn.onclick = function () {
    modal.style.display = "block";
}
close.onclick = function () {
    modal.style.display = "none";
}
close_footer.onclick = function () {
    modal.style.display = "none";
}
order.onclick = function () {
    alert("Cảm ơn bạn đã thanh toán đơn hàng");
    window.location.href = 'index.html';
}
window.onclick = function (event) {
    if (event.target == modal) {
        modal.style.display = "none";
    }
}

// Update cart
function updatecart() {
    var cart_item = document.getElementsByClassName("cart-items")[0];
    var cart_rows = cart_item.getElementsByClassName("cart-row");
    var total = 0;
    for (var i = 0; i < cart_rows.length; i++) {
        var cart_row = cart_rows[i];
        var price_item = cart_row.getElementsByClassName("cart-price")[0];
        var quantity_item = cart_row.getElementsByClassName("cart-quantity-input")[0];
        var price = parseFloat(price_item.innerText.replace('$', ''));
        var quantity = quantity_item.value;
        total = total + (price * quantity);
    }
    document.getElementsByClassName("cart-total-price")[0].innerText = total + ' $';
}

// Remove cart
var remove_cart = document.getElementsByClassName("btn-danger");
for (var i = 0; i < remove_cart.length; i++) {
    var button = remove_cart[i];
    button.addEventListener("click", function () {
        var button_remove = event.target;
        button_remove.parentElement.parentElement.remove();
        updatecart();
    });
}

// Change quantity
var quantity_input = document.getElementsByClassName("cart-quantity-input");
for (var i = 0; i < quantity_input.length; i++) {
    var input = quantity_input[i];
    input.addEventListener("change", function (event) {
        var input = event.target;
        if (isNaN(input.value) || input.value <= 0) {
            input.value = 1;
        }
        updatecart();
    });
}

// Add to cart
var add_cart = document.getElementsByClassName("btn-cart");
for (var i = 0; i < add_cart.length; i++) {
    var add = add_cart[i];
    add.addEventListener("click", function (event) {
        var button = event.target;
        var product = button.parentElement;
        var title = product.getElementsByTagName("h3")[0].innerText.split("\n")[0];
        var price = product.getElementsByClassName("price")[0].innerText;
        var images = document.getElementById("MainImg").src;
        addItemToCart(title, price, images);
        modal.style.display = "block";
        updatecart();
    });
}

function addItemToCart(title, price, images) {
    var cartRow = document.createElement('div');
    cartRow.classList.add('cart-row');
    var cartItems = document.getElementsByClassName('cart-items')[0];
    var cart_title = cartItems.getElementsByClassName('cart-item-title');
    for (var i = 0; i < cart_title.length; i++) {
        if (cart_title[i].innerText == title) {
            alert('Sản Phẩm Đã Có Trong Giỏ Hàng');
            return;
        }
    }

    var cartRowContents = `
        <div class="cart-item cart-column">
            <img class="cart-item-image" src="${images}" width="100" height="100" alt="">
            <span class="cart-item-title">${title}</span>
        </div>
        <span class="cart-price cart-column">${price}</span>
        <div class="cart-quantity cart-column">
            <input class="cart-quantity-input" type="number" value="1">
            <button class="btn btn-danger" type="button">Xóa</button>
        </div>`;
    cartRow.innerHTML = cartRowContents;
    cartItems.append(cartRow);
    cartRow.getElementsByClassName('btn-danger')[0].addEventListener('click', function () {
        var button_remove = event.target;
        button_remove.parentElement.parentElement.remove();
        updatecart();
    });
    cartRow.getElementsByClassName('cart-quantity-input')[0].addEventListener('change', function (event) {
        var input = event.target;
        if (isNaN(input.value) || input.value <= 0) {
            input.value = 1;
        }
        updatecart();
    });
}
</script>
</body>
</html>
